#:import get_color_from_hex kivy.utils.get_color_from_hex

<PhonePage>:
    MDBoxLayout:
        md_bg_color: app.default_bg_color
        orientation: 'horizontal'

        MDFloatLayout:
            md_bg_color: 0, 0, 0, 0.3
            size_hint_x: None
            size: 75, 0
            MDIconButton:
                icon: "images/home.png"
                icon_size: 50
                pos_hint: {"center_x": 0.5, "y": 0}
                on_press: app.change_screen('home')
            MDBoxLayout:
                orientation: "vertical"
                size_hint: None, None
                size: 75, 50
                pos_hint: {"center_x": 0.5, "top": 1}
                MDLabel:
                    halign: 'center'
                    text: '15:45'
                    font_size: 18
                    color: get_color_from_hex("#FFFFFF")
                MDLabel:
                    halign: 'center'
                    text: '12/12/2022'
                    font_size: 12
                    color: get_color_from_hex("#FFFFFF")

        MDBoxLayout:  # Phone page
            orientation: "vertical"
            MDBoxLayout:  # Title bar
                orientation: "horizontal"
                md_bg_color: get_color_from_hex("#C7C7C7")
                size_hint_y: None
                size: 0, 30
                MDIconButton:
                    icon: 'images/phone.png'
                    icon_size: '20sp'
                    padding: [15, 0, 40, 5]
                MDLabel:
                    id: phone
                    text: 'Téléphone'
                    halign: 'left'
                MDIconButton:
                    icon: 'images/close.png'
                    icon_size: '20sp'
                    padding: [30, 25, 10, 10]
                    on_press: app.change_screen('home')

            MDBoxLayout:  # Body page
                orientation: "horizontal"
                md_bg_color: app.default_bg_color 
                MDBoxLayout:  #Left content
                    orientation: "vertical"
                    md_bg_color: 1, 1 ,1
                        
                    MDBottomNavigation:
                        panel_color: rgba('#ECECEC')
                        text_color_active: app.default_bg_color 
                        selected_color_background: app.default_bg_color 
                    
                        # Add a NavigationItem for each Navigation.
                        MDBottomNavigationItem:
                            name: "contacts"
                            text: "Contacts"
                            icon: "account-circle"
                            
                            BoxLayout:
                                orientation: "vertical"

                                MDTextField:
                                    hint_text: "Rechercher des contacts"
                                    mode: "round" 
                                    pos_hint: {'center_x': 0.5, 'center_y': 0.95}
                                    size_hint_x: 0.94
                                    
                                MDLabel:
                                    text: "Contacts"
                                    font_size: '18'
                                    size_hint_y: None
                                    size: 0, 30
                                    pos_hint: {'x': 0.03, 'center_y': 0.5}

                                MDFloatLayout:
                                    ScrollView:
                                        pos_hint: {'center_x': 0.5, 'top': 1}
                                        do_scroll_y: True
                                        effect_cls: 'ScrollEffect'
                                        bar_width: 0
                                        scroll_type: ['content']
                                        MDBoxLayout:
                                            id: contact_list
                                            orientation: 'vertical'
                                            size_hint_y: None
                                            size: 0, self.minimum_height
                                    MDFloatingActionButton:
                                        pos_hint: {'center_x': 0.85, 'center_y': 0.15}
                                        icon: 'plus'
                                        md_bg_color: app.default_bg_color 
                                        size_hint: None, None
                                        icon_size: '30sp'

                                        type: 'small'

                        

                        MDBottomNavigationItem:
                            name: "recents"
                            text: "Récents"
                            icon: "clock-time-four"

                            BoxLayout:
                                orientation: "vertical"

                                MDTextField:
                                    hint_text: "Rechercher des contacts"
                                    mode: "round" 
                                    size_hint_x: 0.94
                                    pos_hint: {'center_x': 0.5, 'y':0.5}
                                    
                                MDLabel:
                                    text: "Journal des appels"
                                    font_size: '18'
                                    size_hint_y: None
                                    size: 0, 30
                                    pos_hint: {'x': 0.03, 'center_y': 0.5}

                                MDFloatLayout:
                                    ScrollView:
                                        pos_hint: {'center_x': 0.5, 'top': 1}
                                        do_scroll_y: True
                                        effect_cls: 'ScrollEffect'
                                        bar_width: 0
                                        scroll_type: ['content']
                                        MDBoxLayout:
                                            id: call_logs
                                            orientation: 'vertical'
                                            size_hint_y: None
                                            size: 0, self.minimum_height
                                    MDFloatingActionButton:
                                        pos_hint: {'center_x': 0.5, 'center_y': 0.15}
                                        icon: 'dialpad'
                                        md_bg_color: app.default_bg_color 
                                        size_hint: None, None
                                        icon_size: '30sp'
                                        type: 'small'

                        MDBottomNavigationItem:
                            name: "favoris"
                            text: "Favoris"
                            icon: "star"

                            BoxLayout:
                                orientation: "vertical"

                                MDTextField:
                                    hint_text: "Rechercher des contacts"
                                    mode: "round" 
                                    size_hint_x: 0.94
                                    pos_hint: {'center_x': 0.5}
                                    
                                MDLabel:
                                    text: "Favoris"
                                    font_size: '18'
                                    size_hint_y: None
                                    size: 0, 30
                                    pos_hint: {'x': 0.03, 'center_y': 0.5}

                                MDFloatLayout:
                                    ScrollView:
                                        pos_hint: {'center_x': 0.5, 'top': 1}
                                        do_scroll_y: True
                                        effect_cls: 'ScrollEffect'
                                        bar_width: 0
                                        scroll_type: ['content']
                                        MDGridLayout:
                                            cols:2
                                            #rows:5
                                            padding:[dp(15),dp(15),dp(15),dp(35)]
                                            spacing:dp(15)
                                            ElementCard:
                                                text:"Papa"
                                            ElementCard:
                                                text:"Arthur"
                                            ElementCard:
                                                text:"Brenda"
                                            ElementCard:
                                                text:"Carlos"
                                    MDFloatingActionButton:
                                        pos_hint: {'center_x': 0.5, 'center_y': 0.1}
                                        icon: 'dialpad'
                                        md_bg_color: app.default_bg_color 
                                        size_hint: None, None
                                        icon_size: '30sp'
                                        type: 'small'
                    
                            # Add Contents here
                            


                MDBoxLayout:   # Right content
                    id: right_content
                    md_bg_color: app.default_bg_color


<ElementCard@MDCard>:
    md_bg_color:69/255,55/255,86/255,1
    padding:dp(15)
    spacing:dp(15)
    radius:dp(25)
    ripple_behavior: True
    text:""

    orientation:'vertical'
    MDBoxLayout:
        orientation:'vertical'
        MDLabel:
            halign:"center"
            text:root.text
            font_style:"H6"
        MDLabel:
            halign:"center"
            font_style:"Caption"
        MDLabel:
            halign:"center"


